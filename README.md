# 妙游 MiraTrip - 智能旅行规划应用

## 项目简介

妙游 MiraTrip 是一个基于 React + TypeScript + Ant Design 开发的智能旅行规划 Web 应用。该应用旨在为用户提供个性化的旅行路线规划、智能推荐和旅行日记生成功能。

## 核心功能

### 🗺️ 智能路线生成
- **目的地搜索**: 支持模糊搜索和自动补全园区内的地点
- **偏好设置**: 可选择参观偏好（如"科技体验"、"亲子互动"、"用餐休息"等）
- **时间规划**: 可设置预计停留时间和开始时间
- **智能路线**: 根据用户偏好生成最优参观路线
- **实时提醒**: 提供人流预警、预约提醒等智能提醒
- **保存分享**: 支持路线保存和分享功能

### 🎯 智能推荐系统
- **地理位置感知**: 基于用户当前位置提供周边推荐
- **实时信息**: 显示排队时间、空位数量等实时动态信息
- **个性化推荐**: 根据用户偏好和当前位置智能推荐
- **快速操作**: 支持线上点单、导航、查看详情等快捷操作

### 📝 旅行日记生成
- **图片上传**: 支持多选、拖拽上传图片
- **AI 生成**: 基于上传图片自动生成图文并茂的旅行日记
- **路线关联**: 可选择关联已保存的路线，提升日记质量
- **编辑分享**: 支持日记编辑、发布和分享功能

## 技术栈

- **前端框架**: React 18 + TypeScript
- **UI 组件库**: Ant Design 5.x
- **构建工具**: Vite
- **路由管理**: React Router DOM
- **地图服务**: 高德地图 API
- **AI 服务**: DeepSeek API
- **样式**: CSS3 + 响应式设计

## 项目结构

```
src/
├── components/          # 组件目录
│   ├── RouteTimeline.tsx       # 路线时间轴组件
│   ├── RecommendationCard.tsx  # 推荐卡片组件
│   ├── ImageUploader.tsx       # 图片上传组件
│   └── ...
├── pages/              # 页面目录
│   ├── HomePage.tsx           # 主页
│   ├── PlannerPage.tsx        # 路线规划页面
│   └── ...
├── services/           # 服务目录
│   └── api.ts                 # API 服务
├── types/              # 类型定义
│   └── index.ts               # TypeScript 类型
├── utils/              # 工具目录
│   └── mockData.ts            # Mock 数据
└── ...
```

## 已实现功能

### ✅ 完成的功能

1. **智能路线生成模块**
   - [x] 路线规划输入界面
   - [x] 目的地搜索和选择
   - [x] 参观偏好设置
   - [x] 时间规划设置
   - [x] 路线时间轴展示
   - [x] 智能提醒功能
   - [x] 路线保存和分享

2. **推荐系统组件**
   - [x] 推荐卡片组件
   - [x] 实时信息展示
   - [x] 距离计算
   - [x] 操作按钮

3. **图片上传组件**
   - [x] 多选上传
   - [x] 拖拽上传
   - [x] 图片预览
   - [x] 文件验证

4. **响应式设计**
   - [x] 移动端适配
   - [x] 桌面端优化
   - [x] 深色模式支持

### 🚧 待实现功能

1. **用户账户系统**
   - [ ] 手机号/微信登录
   - [ ] 用户个人中心
   - [ ] 路线和日记管理

2. **地图集成**
   - [ ] 园区地图展示
   - [ ] 位置标记
   - [ ] 导航功能

3. **日记生成功能**
   - [ ] 日记创建页面
   - [ ] AI 内容生成
   - [ ] 日记编辑和发布

4. **智能推荐系统**
   - [ ] 地理位置获取
   - [ ] 实时推荐触发
   - [ ] 推荐算法优化

## 快速开始

### 环境要求

- Node.js >= 16.0.0
- npm >= 8.0.0

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

访问 http://localhost:5173 查看应用

### 构建生产版本

```bash
npm run build
```

## 使用说明

### 智能路线规划

1. 在主页点击"智能路线规划"按钮
2. 选择目的地（支持搜索）
3. 设置参观偏好
4. 调整预计停留时间和开始时间
5. 点击"生成我的专属路线"
6. 查看生成的路线时间轴
7. 可选择保存或分享路线

### 推荐系统

- 推荐卡片会自动显示在右下角
- 点击推荐卡片可查看详细信息
- 支持快速操作（点单、导航等）

### 图片上传

- 支持点击选择或拖拽上传
- 最多可上传 10 张图片
- 单张图片大小限制 5MB
- 支持图片预览和删除

## API 配置

### 环境变量

在 `src/env.ts` 中配置以下 API 密钥：

```typescript
export const ENV = {
  AMAP_API_KEY: 'your_amap_api_key',
  AMAP_SECURITY_KEY: 'your_amap_security_key',
  DEEPSEEK_API_KEY: 'your_deepseek_api_key'
};
```

### Mock 数据

当前使用 Mock 数据模拟 API 响应，包括：
- 园区地点数据
- 推荐数据
- 用户数据
- 日记数据

## 开发说明

### 代码规范

- 使用 TypeScript 进行类型检查
- 遵循 React Hooks 最佳实践
- 使用 Ant Design 组件库
- 响应式设计优先

### 组件开发

- 组件采用函数式组件
- 使用 TypeScript 接口定义 Props
- 支持响应式和深色模式
- 包含适当的动画效果

### 样式规范

- 使用 CSS 模块化
- 支持响应式断点
- 深色模式适配
- 动画和过渡效果

## 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证

MIT License

## 联系方式

如有问题或建议，请提交 Issue 或联系开发团队。

---

**妙游 MiraTrip** - 让每一次出行都成为美好回忆 ✨
